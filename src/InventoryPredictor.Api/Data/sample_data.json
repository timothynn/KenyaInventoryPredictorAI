{
  "sample_products": [
    {
      "product_code": "P001",
      "product_name": "Maize Flour 2kg",
      "category": "Food",
      "unit": "kg",
      "unit_price": 150.00,
      "supplier": "Unga Limited",
      "locations": {
        "Nairobi_Warehouse": {
          "current_stock": 250,
          "minimum_stock": 100,
          "reorder_point": 120
        },
        "Mombasa_Store": {
          "current_stock": 180,
          "minimum_stock": 80,
          "reorder_point": 100
        }
      },
      "lead_time_days": 3
    },
    {
      "product_code": "P002",
      "product_name": "Cooking Oil 1L",
      "category": "Food",
      "unit": "liters",
      "unit_price": 320.00,
      "supplier": "Bidco Africa",
      "locations": {
        "Nairobi_Warehouse": {
          "current_stock": 45,
          "minimum_stock": 60,
          "reorder_point": 80
        }
      },
      "lead_time_days": 5
    },
    {
      "product_code": "P003",
      "product_name": "Sugar 1kg",
      "category": "Food",
      "unit": "kg",
      "unit_price": 120.00,
      "supplier": "Mumias Sugar",
      "locations": {
        "Nairobi_Warehouse": {
          "current_stock": 320,
          "minimum_stock": 150,
          "reorder_point": 200
        },
        "Kisumu_Store": {
          "current_stock": 90,
          "minimum_stock": 100,
          "reorder_point": 120
        }
      },
      "lead_time_days": 2
    },
    {
      "product_code": "P004",
      "product_name": "Rice 5kg",
      "category": "Food",
      "unit": "kg",
      "unit_price": 650.00,
      "supplier": "Mwea Rice Mills",
      "locations": {
        "Nairobi_Warehouse": {
          "current_stock": 150,
          "minimum_stock": 80,
          "reorder_point": 100
        }
      },
      "lead_time_days": 4
    },
    {
      "product_code": "P005",
      "product_name": "Milk 500ml",
      "category": "Dairy",
      "unit": "pieces",
      "unit_price": 60.00,
      "supplier": "Brookside Dairy",
      "locations": {
        "Nairobi_Warehouse": {
          "current_stock": 85,
          "minimum_stock": 120,
          "reorder_point": 150
        }
      },
      "lead_time_days": 1,
      "perishable": true,
      "expiry_days": 7
    },
    {
      "product_code": "P006",
      "product_name": "Tea Leaves 250g",
      "category": "Beverages",
      "unit": "packets",
      "unit_price": 200.00,
      "supplier": "KTDA",
      "locations": {
        "Nairobi_Warehouse": {
          "current_stock": 280,
          "minimum_stock": 100,
          "reorder_point": 150
        }
      },
      "lead_time_days": 3,
      "seasonal": true,
      "peak_months": [6, 7, 8]
    },
    {
      "product_code": "P007",
      "product_name": "Soap Bar 200g",
      "category": "Household",
      "unit": "pieces",
      "unit_price": 45.00,
      "supplier": "Unilever Kenya",
      "locations": {
        "Nairobi_Warehouse": {
          "current_stock": 420,
          "minimum_stock": 200,
          "reorder_point": 250
        },
        "Mombasa_Store": {
          "current_stock": 180,
          "minimum_stock": 150,
          "reorder_point": 180
        }
      },
      "lead_time_days": 5
    },
    {
      "product_code": "P008",
      "product_name": "Bread Loaf",
      "category": "Bakery",
      "unit": "pieces",
      "unit_price": 50.00,
      "supplier": "Nairobi Bakery",
      "locations": {
        "Nairobi_Warehouse": {
          "current_stock": 25,
          "minimum_stock": 40,
          "reorder_point": 60
        }
      },
      "lead_time_days": 1,
      "perishable": true,
      "expiry_days": 2
    },
    {
      "product_code": "P009",
      "product_name": "Tomatoes 1kg",
      "category": "Fresh Produce",
      "unit": "kg",
      "unit_price": 80.00,
      "supplier": "Local Farmers - Kiambu",
      "locations": {
        "Nairobi_Warehouse": {
          "current_stock": 55,
          "minimum_stock": 50,
          "reorder_point": 70
        }
      },
      "lead_time_days": 1,
      "perishable": true,
      "expiry_days": 3,
      "seasonal": true,
      "peak_months": [3, 4, 10, 11]
    },
    {
      "product_code": "P010",
      "product_name": "Detergent 1kg",
      "category": "Household",
      "unit": "kg",
      "unit_price": 180.00,
      "supplier": "Bidco Africa",
      "locations": {
        "Nairobi_Warehouse": {
          "current_stock": 320,
          "minimum_stock": 150,
          "reorder_point": 200
        }
      },
      "lead_time_days": 4
    }
  ],

  "kenya_locations": {
    "Nairobi_Warehouse": {
      "full_name": "Nairobi Central Warehouse",
      "address": "Industrial Area, Nairobi",
      "county": "Nairobi",
      "coordinates": {
        "latitude": -1.3032,
        "longitude": 36.8433
      },
      "operating_hours": "Mon-Sat 7AM-6PM",
      "contact": "+254 712 345 678"
    },
    "Mombasa_Store": {
      "full_name": "Mombasa Retail Store",
      "address": "Moi Avenue, Mombasa",
      "county": "Mombasa",
      "coordinates": {
        "latitude": -4.0435,
        "longitude": 39.6682
      },
      "operating_hours": "Mon-Sun 8AM-8PM",
      "contact": "+254 723 456 789"
    },
    "Kisumu_Store": {
      "full_name": "Kisumu Branch",
      "address": "Oginga Odinga Street, Kisumu",
      "county": "Kisumu",
      "coordinates": {
        "latitude": -0.0917,
        "longitude": 34.7680
      },
      "operating_hours": "Mon-Sat 8AM-7PM",
      "contact": "+254 734 567 890"
    }
  },

  "sample_sales_transactions": [
    {
      "transaction_id": "TXN001",
      "product_code": "P002",
      "quantity": 25,
      "unit_price": 320.00,
      "total_amount": 8000.00,
      "transaction_date": "2025-10-31T14:30:00Z",
      "location": "Nairobi_Warehouse",
      "channel": "Store",
      "payment_method": "M-Pesa",
      "customer_id": "CUST001",
      "notes": "High-volume customer order"
    },
    {
      "transaction_id": "TXN002",
      "product_code": "P005",
      "quantity": 50,
      "unit_price": 60.00,
      "total_amount": 3000.00,
      "transaction_date": "2025-10-31T09:15:00Z",
      "location": "Nairobi_Warehouse",
      "channel": "Mobile",
      "payment_method": "M-Pesa",
      "customer_id": "CUST002",
      "notes": "Regular morning delivery"
    },
    {
      "transaction_id": "TXN003",
      "product_code": "P001",
      "quantity": 30,
      "unit_price": 150.00,
      "total_amount": 4500.00,
      "transaction_date": "2025-10-31T11:00:00Z",
      "location": "Mombasa_Store",
      "channel": "Store",
      "payment_method": "Cash",
      "customer_id": "CUST003",
      "notes": ""
    }
  ],

  "payment_methods_kenya": [
    {
      "method": "M-Pesa",
      "popularity": 65,
      "description": "Mobile money - most popular in Kenya"
    },
    {
      "method": "Cash",
      "popularity": 25,
      "description": "Cash payments"
    },
    {
      "method": "Card",
      "popularity": 8,
      "description": "Credit/Debit card"
    },
    {
      "method": "Bank_Transfer",
      "popularity": 2,
      "description": "Direct bank transfer"
    }
  ],

  "business_hours_patterns": {
    "weekday_peak_hours": [8, 9, 10, 12, 13, 17, 18],
    "weekend_peak_hours": [9, 10, 11, 14, 15],
    "seasonal_peaks": {
      "december": 1.5,
      "january": 1.3,
      "april": 1.2,
      "august": 1.1
    },
    "weekly_patterns": {
      "monday": 0.9,
      "tuesday": 0.95,
      "wednesday": 1.0,
      "thursday": 1.05,
      "friday": 1.15,
      "saturday": 1.3,
      "sunday": 0.7
    }
  },

  "testing_scenarios": [
    {
      "scenario": "Critical Low Stock Alert",
      "steps": [
        "1. Record high-volume sales for Cooking Oil (P002)",
        "2. Stock drops below minimum level",
        "3. System generates critical alert",
        "4. Push notification sent to mobile app",
        "5. AI predicts stock-out in 3 days"
      ],
      "expected_outcome": "Critical alert visible in dashboard, mobile notification received, reorder recommendation generated"
    },
    {
      "scenario": "Demand Spike Detection",
      "steps": [
        "1. Record unusual high sales for Sugar (P003)",
        "2. Sales 3x higher than average daily demand",
        "3. Anomaly detection model flags the spike",
        "4. Alert generated for inventory manager",
        "5. AI adjusts demand forecast"
      ],
      "expected_outcome": "Anomaly detected, forecast updated, alert generated"
    },
    {
      "scenario": "Multi-Location Inventory Transfer",
      "steps": [
        "1. Nairobi warehouse low on Maize Flour",
        "2. Mombasa store has excess stock",
        "3. System suggests transfer",
        "4. Manager approves transfer via mobile app",
        "5. Real-time inventory updated across locations"
      ],
      "expected_outcome": "Transfer recommendation, inventory synced in real-time"
    },
    {
      "scenario": "Seasonal Product Prediction",
      "steps": [
        "1. Tea Leaves (P006) approaching peak season (June-August)",
        "2. ML model identifies seasonal pattern",
        "3. System recommends increased stock levels",
        "4. Pre-emptive reorder suggestion 2 weeks before peak",
        "5. Dashboard shows seasonal insight"
      ],
      "expected_outcome": "Seasonal pattern detected, proactive reorder recommendation"
    },
    {
      "scenario": "Data Agent Natural Language Query",
      "steps": [
        "1. User asks: 'Which products are running low in Nairobi?'",
        "2. Data Agent queries Eventhouse KQL database",
        "3. Returns list with current stock levels",
        "4. User asks follow-up: 'What should I order?'",
        "5. Agent provides reorder recommendations with quantities"
      ],
      "expected_outcome": "Accurate responses with actionable data, conversational flow"
    },
    {
      "scenario": "Offline Mode & Sync",
      "steps": [
        "1. Mobile app goes offline (no internet)",
        "2. User records 5 sales transactions",
        "3. Data stored locally",
        "4. Internet connection restored",
        "5. Auto-sync triggered, data sent to API"
      ],
      "expected_outcome": "Transactions saved locally, synced successfully when online"
    },
    {
      "scenario": "Real-Time Dashboard Update",
      "steps": [
        "1. Open dashboard on desktop",
        "2. Record sale on mobile app",
        "3. SignalR pushes update to desktop",
        "4. Dashboard refreshes automatically",
        "5. Stock level chart updates in real-time"
      ],
      "expected_outcome": "Dashboard updates without manual refresh, SignalR working"
    },
    {
      "scenario": "M-Pesa Payment Integration",
      "steps": [
        "1. Customer makes purchase",
        "2. Selects M-Pesa payment",
        "3. System records transaction with M-Pesa ID",
        "4. Payment confirmation received",
        "5. Inventory automatically decremented"
      ],
      "expected_outcome": "Payment recorded, inventory updated, transaction logged"
    }
  ],

  "demo_script": {
    "duration": "5 minutes",
    "sections": [
      {
        "time": "0:00-0:30",
        "title": "Introduction",
        "content": "Welcome! This is Kenya Inventory Predictor AI - helping Kenyan businesses prevent stock-outs and optimize inventory using Microsoft Fabric and AI."
      },
      {
        "time": "0:30-1:30",
        "title": "Real-Time Dashboard",
        "content": "Show dashboard with live metrics: total inventory value, low stock items, today's sales. Point out real-time updates powered by Fabric Eventstreams."
      },
      {
        "time": "1:30-2:30",
        "title": "AI Predictions",
        "content": "Navigate to Predictions page. Show stock-out predictions for Cooking Oil with 92% probability. Demonstrate demand forecasts using Prophet ML model. Show reorder recommendations."
      },
      {
        "time": "2:30-3:30",
        "title": "Data Agent (Copilot)",
        "content": "Open AI Assistant. Ask: 'Which products need reordering this week?' Show natural language response. Follow up: 'Create a purchase order for Cooking Oil.' Demonstrate conversational analytics."
      },
      {
        "time": "3:30-4:30",
        "title": "Mobile App Demo",
        "content": "Switch to Android phone. Record a sale transaction. Show real-time alert for low stock. Demonstrate offline mode. Show push notification."
      },
      {
        "time": "4:30-5:00",
        "title": "Microsoft Fabric Integration",
        "content": "Quick view of Fabric workspace: Eventhouse with KQL queries, Eventstreams processing data, Power BI embedded dashboard. Closing remarks about innovation for Kenyan SMEs."
      }
    ]
  },

  "kql_sample_queries": {
    "top_selling_products": "sales_transactions\n| where transaction_date > ago(30d)\n| summarize total_sales = sum(total_amount), total_quantity = sum(quantity) by product_name\n| top 10 by total_sales desc",
    
    "low_stock_alert": "inventory_levels\n| where current_stock < minimum_stock\n| join kind=inner (sales_transactions | where transaction_date > ago(7d) | summarize avg_daily_sales = sum(quantity)/7.0 by product_id) on product_id\n| extend days_remaining = current_stock / avg_daily_sales\n| project product_name, current_stock, minimum_stock, days_remaining, location\n| order by days_remaining asc",
    
    "sales_by_payment_method": "sales_transactions\n| where transaction_date > ago(30d)\n| summarize total_transactions = count(), total_amount = sum(total_amount) by payment_method\n| extend percentage = round(100.0 * total_transactions / toscalar(sales_transactions | where transaction_date > ago(30d) | count), 2)\n| order by total_amount desc",
    
    "hourly_sales_pattern": "sales_transactions\n| where transaction_date > ago(30d)\n| extend hour = hourofday(transaction_date)\n| summarize avg_sales = avg(total_amount), transaction_count = count() by hour\n| order by hour asc",
    
    "anomaly_detection": "sales_transactions\n| where transaction_date > ago(90d)\n| make-series daily_sales = sum(total_amount) on transaction_date from ago(90d) to now() step 1d\n| extend anomalies = series_decompose_anomalies(daily_sales, 1.5)\n| mv-expand daily_sales, transaction_date, anomalies\n| where anomalies != 0\n| project transaction_date, daily_sales, anomaly_score = anomalies"
  }
}
